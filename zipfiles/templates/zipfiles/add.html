{% extends "zipfiles/base.html" %}


{% block body %}

  <style>
    
    * {
        padding: 0;
        margin: 0;
        box-sizing: border-box;
        font-family: "Poppins", sans-serif;
      }
      
      .file-upload-card {
        background-color: #ffffff;
        width: 90%;
        max-width: 34.37em;
        position: relative;
        margin: 3.12em auto;
        padding: 3.12em 1.25em;
        border-radius: 0.43em;
        box-shadow: 0 1.25em 2.18em rgb(1, 28, 71, 0.3);
      }
      input[type="file"] {
        display: none;
      }
      label {
        display: block;
        position: relative;
        background-color: #025bee;
        color: #ffffff;
        font-size: 1.12em;
        font-weight: 500;
        text-align: center;
        width: 18.75em;
        padding: 1.12em 0;
        margin: auto;
        border-radius: 0.31em;
        cursor: pointer;
      }
      #num-of-files {
        font-weight: 400;
        text-align: center;
        margin: 1.25em 0 1.87em 0;
      }
      ul {
        list-style-type: none;
      }
      .file-upload-card li {
        font-weight: 500;
        background-color: #eff5ff;
        color: #025bee;
        margin-bottom: 1em;
        padding: 1.1em 1em;
        border-radius: 0.3em;
        display: flex;
        justify-content: space-between;
      }



  </style>
  <h3 class="text-center m-4">Add Zipfile</h3>
  {% if success %}
    <div class="alert alert-success" role="alert">
      The new zipfile added successfully.
      <a href="{% url 'index' %}" class="alert-link">Go to Home Page.</a>
    </div>
  {% else %}
  
  
  <div class="container file-upload-card">
    <input type="file" id="file-input" multiple />
    <label for="file-input">
      <i class="fa-solid fa-arrow-up-from-bracket"></i>
      &nbsp; Choose Files To Upload
    </label>
    <div id="num-of-files">No Files Choosen</div>
    <ul id="files-list"></ul>
  </div>
  <!-- Script -->
  <!-- <script src="script.js"></script> -->
  <script>
    let fileInput = document.getElementById("file-input");
    let fileList = document.getElementById("files-list");
    let numOfFiles = document.getElementById("num-of-files");

    fileInput.addEventListener("change", () => {
      fileList.innerHTML = "";
      numOfFiles.textContent = `${fileInput.files.length} Files Selected`;

      for (var i of fileInput.files) {
        let reader = new FileReader();
        let listItem = document.createElement("li");
        let fileName = i.name;
        let fileSize = (i.size / 1024).toFixed(1);
        listItem.innerHTML = `<p>${fileName}</p><p>${fileSize}KB</p>`;
        if (fileSize >= 1024) {
          fileSize = (fileSize / 1024).toFixed(1);
          listItem.innerHTML = `<p>${fileName}</p><p>${fileSize}MB</p>`;
        }
        fileList.appendChild(listItem);
      }
    });
  </script>



  {% endif %}
{% endblock %}